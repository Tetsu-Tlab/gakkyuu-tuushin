# ğŸŒˆ å­¦ç´šé€šä¿¡ãƒ¡ãƒ¼ã‚«ãƒ¼ã€Œã«ã˜ã„ã‚æ—¥è¨˜ã€

**ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆã«å…¥åŠ›ã™ã‚‹ã ã‘ã§ã€A3æ¨ªã®å­¦ç´šé€šä¿¡ãŒè‡ªå‹•ã§å®Œæˆã™ã‚‹ãƒ„ãƒ¼ãƒ«ã§ã™ï¼**

![React](https://img.shields.io/badge/React-61DAFB?style=flat&logo=react&logoColor=black)
![GAS](https://img.shields.io/badge/Google_Apps_Script-4285F4?style=flat&logo=google&logoColor=white)
![Vite](https://img.shields.io/badge/Vite-646CFF?style=flat&logo=vite&logoColor=white)

---

## âœ¨ ã§ãã‚‹ã“ã¨

- ğŸ“ ã‚¹ãƒ—ã‚·ã«å…¥åŠ› â†’ ã‚¢ãƒ—ãƒªã§èª­ã¿è¾¼ã¿ â†’ å³å°åˆ·ï¼
- ğŸ“… æœˆæ›œã®æ—¥ä»˜ã‚’å…¥ã‚Œã‚‹ã ã‘ã§ç«ã€œé‡‘ãŒè‡ªå‹•å…¥åŠ›
- ğŸ“¸ å†™çœŸã‚’è²¼ã‚Šä»˜ã‘ã‚‰ã‚Œã‚‹ï¼ˆ1æšã§ã‚‚2æšã§ã‚‚OKï¼‰
- ğŸ–¨ï¸ A3æ¨ªã§å°åˆ·ã™ã‚‹ã ã‘ã®ç°¡å˜ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ
- ğŸ’¾ ã€Œä¿å­˜ï¼†æ¬¡å·ã¸ã€ã§å±¥æ­´ãŒã‚¹ãƒ—ã‚·ã«è‡ªå‹•è¨˜éŒ²

---

## ğŸš€ ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—æ‰‹é †ï¼ˆåˆã‚ã¦ã®æ–¹ã¯ã“ã“ã‹ã‚‰ï¼ï¼‰

### ã‚¹ãƒ†ãƒƒãƒ—1ï¼šã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆã‚’ã‚³ãƒ”ãƒ¼ã™ã‚‹ï¼ˆ1åˆ†ï¼‰

1. ä»¥ä¸‹ã®ãƒªãƒ³ã‚¯ã‚’é–‹ãã¾ã™ï¼š
   - ğŸ“Š [ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆ](https://docs.google.com/spreadsheets/d/1wc2bDiUVGm6h8hv83OR0mwEAARlDTLiJcgYDrVNVi2M/edit?usp=sharing)
2. **ã€Œãƒ•ã‚¡ã‚¤ãƒ«ã€â†’ã€Œã‚³ãƒ”ãƒ¼ã‚’ä½œæˆã€** ã‚’ã‚¯ãƒªãƒƒã‚¯
3. è‡ªåˆ†ã®Googleãƒ‰ãƒ©ã‚¤ãƒ–ã«ã‚³ãƒ”ãƒ¼ãŒä½œã‚‰ã‚Œã¾ã™
4. ã‚³ãƒ”ãƒ¼ã—ãŸã‚¹ãƒ—ã‚·ã‚’é–‹ã„ã¦ãŠã„ã¦ãã ã•ã„

---

### ã‚¹ãƒ†ãƒƒãƒ—2ï¼šGASã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’ã‚³ãƒ”ãƒ¼ã™ã‚‹ï¼ˆ2åˆ†ï¼‰

ã‚³ãƒ”ãƒ¼ã—ãŸã‚¹ãƒ—ã‚·ã®ä¸­ã«ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’è¨­å®šã—ã¾ã™ã€‚

1. ã‚³ãƒ”ãƒ¼ã—ãŸã‚¹ãƒ—ã‚·ã§ **ã€Œæ‹¡å¼µæ©Ÿèƒ½ã€â†’ã€ŒApps Scriptã€** ã‚’é–‹ã
2. è¡¨ç¤ºã•ã‚ŒãŸã‚³ãƒ¼ãƒ‰ã‚¨ãƒ‡ã‚£ã‚¿ã«ã€ä»¥ä¸‹ã®2ã¤ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã¾ã™ï¼š

#### ğŸ“„ ãƒ•ã‚¡ã‚¤ãƒ«1ï¼š`Code.gs`ï¼ˆãƒ¡ã‚¤ãƒ³ã®ã‚³ãƒ¼ãƒ‰ã‚’å…¨éƒ¨è²¼ã‚Šæ›¿ãˆï¼‰

```javascript
function doGet(e) {
    var action = e.parameter.action;
    var callback = e.parameter.callback;
    var data = { error: "No action specified" };
    if (action === "load") { data = loadFromSheet(); }
    var jsonResponse = JSON.stringify(data);
    var result = callback ? callback + "(" + jsonResponse + ")" : jsonResponse;
    var mimeType = callback ? ContentService.MimeType.JAVASCRIPT : ContentService.MimeType.JSON;
    return ContentService.createTextOutput(result).setMimeType(mimeType);
}

function doPost(e) {
    var params = JSON.parse(e.postData.contents);
    if (params.action === "save") {
        var result = saveToSheet(params.payload);
        return ContentService.createTextOutput(JSON.stringify(result)).setMimeType(ContentService.MimeType.JSON);
    }
}

function loadFromSheet() {
    var ss = SpreadsheetApp.getActiveSpreadsheet();
    var sheet = ss.getSheetByName("å…¥åŠ›ã‚·ãƒ¼ãƒˆ");
    if (!sheet) return { error: "å…¥åŠ›ã‚·ãƒ¼ãƒˆãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“" };
    var values = sheet.getRange("A3:F20").getValues();
    var dateVal = values[0][2];
    var dateStr = "";
    if (dateVal instanceof Date) {
        dateStr = dateVal.getFullYear() + "å¹´" + (dateVal.getMonth() + 1) + "æœˆ" + dateVal.getDate() + "æ—¥";
    } else {
        dateStr = String(dateVal || "");
    }
    return {
        title: values[0][0] || "ã«ã˜ã„ã‚æ—¥è¨˜",
        issueNumber: values[0][1] || "1",
        date: dateStr,
        teacherMessage: sheet.getRange("A6").getValue() || "",
        wideNotes: sheet.getRange("A23").getValue() || "",
        schedule: [
            { day: "æœˆ", dismissal: formatTime(values[17][1]), periods: getPeriods(sheet, 2) },
            { day: "ç«", dismissal: formatTime(values[17][2]), periods: getPeriods(sheet, 3) },
            { day: "æ°´", dismissal: formatTime(values[17][3]), periods: getPeriods(sheet, 4) },
            { day: "æœ¨", dismissal: formatTime(values[17][4]), periods: getPeriods(sheet, 5) },
            { day: "é‡‘", dismissal: formatTime(values[17][5]), periods: getPeriods(sheet, 6) }
        ]
    };
}

function formatTime(val) {
    if (val instanceof Date) {
        var h = val.getHours();
        var m = val.getMinutes();
        return (h < 10 ? "0" + h : h) + ":" + (m < 10 ? "0" + m : m);
    }
    return String(val || "15:45");
}

function getPeriods(sheet, colIndex) {
    var data = sheet.getRange(13, colIndex, 8, 1).getValues();
    return data.map(function (row) {
        var val = row[0];
        if (val instanceof Date) return { sub: "", unit: "" };
        return { sub: String(val || ""), unit: "" };
    });
}

function saveToSheet(payload) {
    var ss = SpreadsheetApp.getActiveSpreadsheet();
    var sheet = ss.getSheetByName("å…¥åŠ›ã‚·ãƒ¼ãƒˆ");
    var historySheet = ss.getSheetByName("è¨˜éŒ²DB");
    sheet.getRange("B3").setValue(payload.issueNumber);
    historySheet.appendRow([payload.issueNumber, payload.config.reiwa, payload.config.gradeClass, payload.title, new Date(), payload.teacherMessage, JSON.stringify(payload.schedule), payload.wideNotes, new Date()]);
    return { success: true };
}
```

---

### ã‚¹ãƒ†ãƒƒãƒ—3ï¼šã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’æ‰¿èªã™ã‚‹ï¼ˆ30ç§’ï¼‰

1. Apps Scriptã‚¨ãƒ‡ã‚£ã‚¿ã®ä¸Šéƒ¨ã§ã€é–¢æ•°ã®é¸æŠã‚’ **`doGet`** ã«ã™ã‚‹
2. **ã€Œâ–¶ å®Ÿè¡Œã€** ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯
3. ã€Œæ‰¿èªãŒå¿…è¦ã§ã™ã€ã¨ã„ã†ãƒ€ã‚¤ã‚¢ãƒ­ã‚°ãŒå‡ºãŸã‚‰ã€ä»¥ä¸‹ã®æµã‚Œã§é€²ã‚ã¦ãã ã•ã„ï¼š
   - **ã€Œæ¨©é™ã‚’ç¢ºèªã€** ã‚’ã‚¯ãƒªãƒƒã‚¯
   - è‡ªåˆ†ã®Googleã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’é¸æŠ
   - **ã€Œè©³ç´°ã€** ã‚’ã‚¯ãƒªãƒƒã‚¯ï¼ˆå·¦ä¸‹ã®å°ã•ã„æ–‡å­—ï¼‰
   - **ã€Œã€‡ã€‡ï¼ˆå®‰å…¨ã§ã¯ãªã„ãƒšãƒ¼ã‚¸ï¼‰ã«ç§»å‹•ã€** ã‚’ã‚¯ãƒªãƒƒã‚¯
   - **ã€Œè¨±å¯ã€** ã‚’ã‚¯ãƒªãƒƒã‚¯
4. å®Ÿè¡Œãƒ­ã‚°ã«ä½•ã‹ã‚¨ãƒ©ãƒ¼ãŒå‡ºã¦ã‚‚æ°—ã«ã—ãªãã¦OKï¼ï¼ˆæ‰¿èªã ã‘ãŒç›®çš„ã§ã™ï¼‰

---

### ã‚¹ãƒ†ãƒƒãƒ—4ï¼šWebã‚¢ãƒ—ãƒªã¨ã—ã¦ãƒ‡ãƒ—ãƒ­ã‚¤ã™ã‚‹ï¼ˆ1åˆ†ï¼‰â­æœ€é‡è¦ï¼

1. Apps Scriptã‚¨ãƒ‡ã‚£ã‚¿ã®å³ä¸Šã®é’ã„ **ã€Œãƒ‡ãƒ—ãƒ­ã‚¤ã€** ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯
2. **ã€Œæ–°ã—ã„ãƒ‡ãƒ—ãƒ­ã‚¤ã€** ã‚’é¸æŠ
3. å·¦ã®æ­¯è»Šã‚¢ã‚¤ã‚³ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ **ã€Œã‚¦ã‚§ãƒ–ã‚¢ãƒ—ãƒªã€** ã‚’é¸æŠ
4. ä»¥ä¸‹ã®ã‚ˆã†ã«è¨­å®šã—ã¾ã™ï¼š

| é …ç›® | è¨­å®šå€¤ |
|------|--------|
| èª¬æ˜ | `å­¦ç´šé€šä¿¡ãƒ¡ãƒ¼ã‚«ãƒ¼` ï¼ˆä½•ã§ã‚‚OKï¼‰ |
| æ¬¡ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¨ã—ã¦å®Ÿè¡Œ | **è‡ªåˆ†** |
| ã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹ãƒ¦ãƒ¼ã‚¶ãƒ¼ | âš ï¸ **ã€Œå…¨å“¡ã€ï¼ˆAnyoneï¼‰** â† ã“ã“ãŒè¶…é‡è¦ï¼ |

5. **ã€Œãƒ‡ãƒ—ãƒ­ã‚¤ã€** ã‚’ã‚¯ãƒªãƒƒã‚¯
6. è¡¨ç¤ºã•ã‚ŒãŸ **ã€Œã‚¦ã‚§ãƒ–ã‚¢ãƒ—ãƒª URLã€** ã‚’ã‚³ãƒ”ãƒ¼ã—ã¾ã™
   - `https://script.google.com/macros/s/xxxxxxx/exec` ã¨ã„ã†å½¢å¼ã§ã™

> âš ï¸ **ã€Œè‡ªåˆ†ã®ã¿ã€ã§ã¯ãªãã€Œå…¨å“¡ã€ã«ã—ãªã„ã¨ã€ã‚¢ãƒ—ãƒªã‹ã‚‰æ¥ç¶šã§ãã¾ã›ã‚“ï¼**

---

### ã‚¹ãƒ†ãƒƒãƒ—5ï¼šã‚¢ãƒ—ãƒªã«URLã‚’è¨­å®šã™ã‚‹ï¼ˆ15ç§’ï¼‰

1. ã‚¢ãƒ—ãƒªã‚’é–‹ãï¼ˆ`npm run dev` â†’ `http://localhost:5173`ï¼‰
2. å³ä¸Šã® **âš™ï¸æ­¯è»Šã‚¢ã‚¤ã‚³ãƒ³** ã‚’ã‚¯ãƒªãƒƒã‚¯
3. ã‚¹ãƒ†ãƒƒãƒ—4ã§ã‚³ãƒ”ãƒ¼ã—ãŸ **URLã‚’è²¼ã‚Šä»˜ã‘ã‚‹**
4. **ã€Œé–‰ã˜ã‚‹ã€** ã‚’ã‚¯ãƒªãƒƒã‚¯

---

### ã‚¹ãƒ†ãƒƒãƒ—6ï¼šå‹•ä½œç¢ºèª ğŸ‰

1. ã‚¹ãƒ—ã‚·ã®ã€Œå…¥åŠ›ã‚·ãƒ¼ãƒˆã€ã«ä½•ã‹å…¥åŠ›ã—ã¦ã¿ã‚‹
   - ä¾‹ï¼šA6ã‚»ãƒ«ã«ã€Œä»Šé€±ã‚‚ã‚ˆãé ‘å¼µã‚Šã¾ã—ãŸï¼ã€
2. ã‚¢ãƒ—ãƒªã® **ã€Œã‚¹ãƒ—ã‚·ã‹ã‚‰èª­è¾¼ã€** ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯
3. **ã‚¹ãƒ—ã‚·ã®å†…å®¹ãŒã‚¢ãƒ—ãƒªã«åæ˜ ã•ã‚ŒãŸã‚‰æˆåŠŸã§ã™ï¼** ğŸŠ

---

## ğŸ“– ä½¿ã„æ–¹

### æ¯é€±ã®æµã‚Œ

```
1. ã‚¹ãƒ—ã‚·ã«æ¥é€±ã®æ™‚é–“å‰²ã‚„æ‹…ä»»ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å…¥åŠ›
2. ã‚¢ãƒ—ãƒªã§ã€Œã‚¹ãƒ—ã‚·ã‹ã‚‰èª­è¾¼ã€ã‚’ã‚¯ãƒªãƒƒã‚¯
3. å†™çœŸãŒã‚ã‚Œã°è¿½åŠ 
4. ã€Œå°åˆ·ã€ãƒœã‚¿ãƒ³ã§A3æ¨ªã§ãƒ—ãƒªãƒ³ãƒˆï¼ ğŸ–¨ï¸
5. ã€Œä¿å­˜ï¼†æ¬¡å·ã¸ã€ã§å±¥æ­´ä¿å­˜ï¼†å·æ•°è‡ªå‹•ã‚«ã‚¦ãƒ³ãƒˆã‚¢ãƒƒãƒ—
```

### ä¾¿åˆ©æ©Ÿèƒ½

| æ©Ÿèƒ½ | æ“ä½œ |
|------|------|
| ğŸ“… ç™ºè¡Œæ—¥ã‚’å¤‰æ›´ | æ—¥ä»˜ã®æ¨ªã®ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ã‚¢ã‚¤ã‚³ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ |
| ğŸ“… æ™‚é–“å‰²ã®æ—¥ä»˜ | æœˆæ›œã®æ—¥ä»˜ï¼ˆä¾‹ï¼š3/2ï¼‰ã‚’å…¥åŠ› â†’ ç«ã€œé‡‘ãŒè‡ªå‹•å…¥åŠ› |
| ğŸ” ã‚ºãƒ¼ãƒ  | ã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼ã§ç”»é¢ã®æ‹¡å¤§ãƒ»ç¸®å° |
| ğŸ”¤ æ–‡å­—ã‚µã‚¤ã‚º | ã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼ã§æ–‡å­—ã®å¤§ãã•ã‚’èª¿æ•´ |
| ğŸ“¸ å†™çœŸè¿½åŠ  | ç‚¹ç·šã‚¨ãƒªã‚¢ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ç”»åƒã‚’é¸æŠ |

---

## ğŸ›  é–‹ç™ºç’°å¢ƒã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ï¼ˆé–‹ç™ºè€…å‘ã‘ï¼‰

```bash
# ãƒªãƒã‚¸ãƒˆãƒªã‚’ã‚¯ãƒ­ãƒ¼ãƒ³
git clone https://github.com/Tetsu-Tlab/gakkyuu-tuushin.git
cd gakkyuu-tuushin

# ä¾å­˜é–¢ä¿‚ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
npm install

# é–‹ç™ºã‚µãƒ¼ãƒãƒ¼ã‚’èµ·å‹•
npm run dev
```

---

## ğŸ“ ãƒ•ã‚¡ã‚¤ãƒ«æ§‹æˆ

```
gakkyuu-tuushin/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ App.jsx        # ãƒ¡ã‚¤ãƒ³ã‚¢ãƒ—ãƒªï¼ˆReactï¼‰
â”‚   â”œâ”€â”€ index.css      # ã‚¹ã‚¿ã‚¤ãƒ«ï¼ˆA3ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆï¼‰
â”‚   â””â”€â”€ main.jsx       # ã‚¨ãƒ³ãƒˆãƒªãƒã‚¤ãƒ³ãƒˆ
â”œâ”€â”€ gas/
â”‚   â”œâ”€â”€ Code.js        # GAS APIï¼ˆèª­è¾¼ãƒ»ä¿å­˜ï¼‰
â”‚   â”œâ”€â”€ Bootstrap.js   # ã‚¹ãƒ—ã‚·åˆæœŸè¨­å®š
â”‚   â””â”€â”€ appsscript.json # GASè¨­å®š
â”œâ”€â”€ index.html
â”œâ”€â”€ package.json
â””â”€â”€ vite.config.js
```

---

## â“ ã‚ˆãã‚ã‚‹è³ªå•

### Q: ã€Œèª­ã¿è¾¼ã¿ã«å¤±æ•—ã—ã¾ã—ãŸã€ã¨è¡¨ç¤ºã•ã‚Œã¾ã™
**A:** ä»¥ä¸‹ã‚’ç¢ºèªã—ã¦ãã ã•ã„ï¼š
1. æ­¯è»Šã«è²¼ã£ãŸURLãŒ `https://script.google.com/macros/s/.../exec` ã§çµ‚ã‚ã£ã¦ã„ã¾ã™ã‹ï¼Ÿ
2. ãƒ‡ãƒ—ãƒ­ã‚¤æ™‚ã«ã€Œã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹ãƒ¦ãƒ¼ã‚¶ãƒ¼ã€ã‚’ **ã€Œå…¨å“¡ã€** ã«ã—ã¾ã—ãŸã‹ï¼Ÿ
3. ã‚¹ãƒ†ãƒƒãƒ—3ã®ã€Œã‚¹ã‚¯ãƒªãƒ—ãƒˆã®æ‰¿èªã€ã¯å®Œäº†ã—ã¦ã„ã¾ã™ã‹ï¼Ÿ

### Q: ä¸‹æ ¡æ™‚åˆ»ãŒã€ŒSat Dec 30ã€ã®ã‚ˆã†ã«è¡¨ç¤ºã•ã‚Œã¾ã™
**A:** æœ€æ–°ã®Code.gsã«æ›´æ–°ã—ã¦ãã ã•ã„ã€‚å¤ã„ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã«ã¯æ™‚åˆ»å¤‰æ›ã®ãƒã‚°ãŒã‚ã‚Šã¾ã—ãŸã€‚

### Q: ã‚¹ãƒ—ã‚·ã‚’å¤‰æ›´ã—ãŸã®ã«åæ˜ ã•ã‚Œã¾ã›ã‚“
**A:** ã‚‚ã†ä¸€åº¦ã€Œã‚¹ãƒ—ã‚·ã‹ã‚‰èª­è¾¼ã€ã‚’æŠ¼ã—ã¦ãã ã•ã„ã€‚è‡ªå‹•åŒæœŸã§ã¯ãªãã€ãƒœã‚¿ãƒ³ã§æ‰‹å‹•åŒæœŸã™ã‚‹ä»•çµ„ã¿ã§ã™ã€‚

---

## ğŸŒˆ ä½œè€…

**T-Lab** - å…ˆç”Ÿã®ãŸã‚ã®ã€å…ˆç”Ÿã«ã‚ˆã‚‹ã€å…ˆç”Ÿã®ã‚¢ãƒ—ãƒª

---

*Made with â¤ï¸ for teachers everywhere* ğŸ
